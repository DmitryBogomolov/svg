<!DOCTYPE html>
<html>
<head>
    <title>EDGE mask issue / simple</title>
</head>
<body>
    <div>
        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="800" height="600">
            <defs>          
                <pattern id="mask-pattern" width="10" height="10" patternUnits="userSpaceOnUse">
                    <rect x="0" y="0" width="10" height="10" fill="#ffffff" opacity="0.75"></rect>
                    <path d="M 5 -5 L -5 5 M 10 0 L 0 10 M 15 5 L 5 15" stroke-width="4" stroke="#ffffff"></path>
                </pattern>
                <mask id="mask" x="0" y="0" width="1" height="1">
                    <rect x="0" y="0" width="100%" height="100%" fill="url(#mask-pattern)"></rect>
                </mask>          
            </defs>
            <rect id="rect-1" x="100" y="100" width="200" height="200" fill="green" stroke="black" stroke-width="1" mask="url(#mask)" />
            <rect id="rect-2" x="300" y="100" width="200" height="200" fill="green" stroke="black" stroke-width="1" />
        </svg>
    </div>
    <script>
        'use strict';
        
        setTimeout(function () {
            document.querySelector('#rect-1').removeAttribute('mask');
            document.querySelector('#rect-2').setAttribute('mask', 'url(#mask)');
        }, 0);
        
    </script>
</body>
</head>